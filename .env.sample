# Environment Variables for AI Red Teaming Workshop
# Copy this file to .env and update the values for your specific setup

# ============================================================================
# AZURE AUTHENTICATION & SUBSCRIPTION
# ============================================================================

# Azure Subscription Information
AZURE_SUBSCRIPTION_ID="your-subscription-id-here"
AZURE_RESOURCE_GROUP="your-resource-group-name"
AZURE_LOCATION="swedencentral"

# ============================================================================
# AZURE AI FOUNDRY PROJECT SETTINGS
# ============================================================================

# Azure AI Foundry Project (choose one format)
# Format 1: Individual components
AZURE_PROJECT_NAME="your-ai-foundry-project-name"

# Format 2: Complete project URL (alternative to individual components)
# AZURE_AI_PROJECT="https://your-account.services.ai.azure.com/api/projects/your-project"

# ============================================================================
# AZURE OPENAI MODEL DEPLOYMENTS
# ============================================================================

# Primary OpenAI Endpoint and Key
AZURE_OPENAI_ENDPOINT="https://your-openai-resource.openai.azure.com/"
AZURE_OPENAI_KEY="your-openai-api-key-here"

# Model Deployment Names
AZURE_OPENAI_DEPLOYMENT="gpt-4o-mini"  # Primary chat model
AZURE_EMBEDDING_DEPLOYMENT="text-embedding-3-small"  # Embedding model

# ============================================================================
# CLOUD RED TEAMING (AZURE AI FOUNDRY)
# ============================================================================

# Azure AI Foundry Project Endpoint for Red Teaming
PROJECT_ENDPOINT="https://your-account.services.ai.azure.com/api/projects/your-project"

# Model deployment for red teaming scans
MODEL_DEPLOYMENT_NAME="gpt-4o-mini"

# Optional: External model configuration (if using external models)
# MODEL_ENDPOINT="https://external-model-endpoint.com"
# MODEL_API_KEY="external-model-api-key"

# ============================================================================
# LOCAL RED TEAMING (PyRIT)
# ============================================================================

# PyRIT requires these environment variables for local red teaming
PYRIT_AZURE_OPENAI_ENDPOINT="${AZURE_OPENAI_ENDPOINT}"
PYRIT_AZURE_OPENAI_KEY="${AZURE_OPENAI_KEY}" 
PYRIT_AZURE_OPENAI_DEPLOYMENT="${AZURE_OPENAI_DEPLOYMENT}"

# Alternative PyRIT configuration (if using different models for red teaming)
# PYRIT_OPENAI_API_KEY="openai-api-key-for-adversarial-model"

# ============================================================================
# STORAGE ACCOUNT (for Azure AI Foundry evaluations)
# ============================================================================

# Storage account for evaluation results
AZURE_STORAGE_ACCOUNT_NAME="your-storage-account-name"
AZURE_STORAGE_ACCOUNT_KEY="your-storage-account-key"

# Alternative: Storage connection string
# AZURE_STORAGE_CONNECTION_STRING="DefaultEndpointsProtocol=https;AccountName=..."

# ============================================================================
# OPTIONAL: ADDITIONAL MODELS
# ============================================================================

# Additional model deployments (configured via scripts/0-additional-models.json)
ADDITIONAL_MODEL_DEPLOYMENTS="[]"

# GPT-4 deployment (if configured)
# AZURE_GPT4_DEPLOYMENT="gpt-4"

# ============================================================================
# CI/CD AND AUTOMATION SETTINGS
# ============================================================================

# Security gate thresholds
SECURITY_ASR_THRESHOLD="5.0"  # Maximum acceptable Attack Success Rate (%)
SECURITY_TIMEOUT_MINUTES="15"  # Timeout for security scans in CI/CD

# Notification settings
SECURITY_ALERT_EMAIL="security-team@your-company.com"
COMPLIANCE_ALERT_EMAIL="compliance@your-company.com"

# ============================================================================
# LOGGING AND MONITORING
# ============================================================================

# Log levels for different components
PYRIT_LOG_LEVEL="INFO"
AZURE_AI_LOG_LEVEL="INFO"

# Output directories
SCAN_RESULTS_DIR="./scan_results"
LOG_OUTPUT_DIR="./logs"

# ============================================================================
# DEVELOPMENT AND TESTING
# ============================================================================

# Development mode settings
DEBUG_MODE="false"
VERBOSE_LOGGING="false"

# Test environment settings
TEST_TARGET_ENDPOINT="http://localhost:8000"
TEST_MODEL_NAME="test-model"

# ============================================================================
# INSTRUCTIONS FOR SETUP
# ============================================================================

# 1. Copy this file to .env: cp .env.sample .env
# 2. Update the values above with your actual Azure resource information
# 3. Run the setup scripts in order:
#    - ./scripts/1-setup-auth
#    - ./scripts/2-setup-azd
# 4. Deploy infrastructure: cd .infra-setup && azd up
# 5. Update this .env file with the deployed resource information
# 6. Test the setup by running: python -c "import os; print('✅ Environment loaded' if os.getenv('AZURE_SUBSCRIPTION_ID') else '❌ Please configure .env')"

# ============================================================================
# SECURITY NOTES
# ============================================================================

# ⚠️  NEVER commit this .env file to version control
# ⚠️  Keep API keys and sensitive information secure
# ⚠️  Rotate keys regularly
# ⚠️  Use Azure Key Vault for production environments
# ⚠️  Consider using managed identities instead of API keys where possible